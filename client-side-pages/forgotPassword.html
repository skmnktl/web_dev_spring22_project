<!DOCTYPE html>
<html>
<head>
	<title>Forgot Password</title>

	<link rel="stylesheet" href="canvasStyle.css">
</head>
	
	<body onload="loadUserID()">
	
		<div class="header">
			<h2>Forgot Password</h2>
			<hr>
		</div>

		<div class="flex-container">
			<div id="forgotPasswordForm">
				<form action="http://uchicago.edu" method="GET">
					<p>PLACEHOLDER FOR SECURITY QUESTION 1</p>
					<label for="securityAnswer1"><b>Answer:</b></label>
					<input type="text" id="securityAnswer1" name="securityAnswer1"><br>

					<p>PLACEHOLDER FOR SECURITY QUESTION 2</p>
					<label for="securityAnswer2"><b>Answer:</b></label>
					<input type="text" id="securityAnswer2" name="securityAnswer2"><br>

					<p>PLACEHOLDER FOR SECURITY QUESTION 3</p>
					<label for="securityAnswer3"><b>Answer:</b></label>
					<input type="text" id="securityAnswer3" name="securityAnswer3"><br><br>

					<label for="password"><b>New Password:</b></label>
					<input type="text" id="password" name="password"><br>

					<label for="confirmPassword"><b>Confirm New Password:</b></label>
					<input type="text" id="confirmPassword" name="confirmPassword"><br>

				</form>
			</div>

				
			<div id="resetLink">
				<br><button onclick="resetPassword()">Reset Password</button><br><br>

			</div>

		</div>

		<script>

			function loadUserID() {
				var userID = sessionStorage.getItem("userID")
				console.log(userID)
			}

			function resetPassword() {
				var passwordInput = document.getElementById("password").value;
				var passwordConfirm = document.getElementById("confirmPassword").value;

				if (passwordValidate(passwordInput, passwordConfirm)
				) {
					console.log("TRUE")
				} else {
					console.log("FALSE")
				}
			}
				
			function passwordValidate(passwordInput, passwordConfirm) {


				var validated = true;
				var letter = /^[a-zA-Z]+$/;

				if (
					passwordInput.length < 5 ||
					numSymCount(passwordInput) === false ||
					passwordInput !== passwordConfirm
					) {validated = false}

				if (validated) {
					return true
				} else {
					return false
				}
			}

			function numSymCount(str) {
				var numberList = /^[0-9]+$/;
				var symbolList = /^[_!@#$%^&]+$/;
				var numCount = 0
				var symCount = 0

				for (let i = 0; i < str.length; i++) {
				    if (str.charAt(i).match(numberList)) {numCount++}
				    if (str.charAt(i).match(symbolList)) {symCount++}	
			    }
			    if (
			    	numCount < 1 ||
			    	symCount < 1 
		    	) {
			    	return false 
				  } else {return true}
			}

		</script>

	</body>
</html>